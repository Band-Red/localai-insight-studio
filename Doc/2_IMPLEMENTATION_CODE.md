# 2. وثائق التنفيذ والكود | Implementation & Code

## 2.1 دليل الإعداد (Setup Guide)

### المتطلبات الأساسية (Prerequisites)

- **Node.js:** الإصدار 18 أو أحدث.
- **Python:** الإصدار 3.10 أو أحدث (مهم لمراقبة النظام).
- **Git:** للتحكم في الإصدارات.

### تنزيل الاعتمادات (Dependencies)

يتم تثبيت المكتبات اللازمة للمشروع عبر الأداة الافتراضية للـ Node:

- تثبيت مكتبات الواجهة والخلفية: يتم عبر سطر الأوامر في مجلد المشروع.
- تثبيت مكتبة `psutil` للـ Python: `pip install psutil`.

### إعداد المتغيرات البيئية (Env Variables)

برغم أن المشروع يعتمد على الملفات، يمكن استخدام ملف `.env` لتحديد منافذ الخادم الافتراضية.

---

## 2.2 دليل البناء والنشر (Build & Deployment)

### البناء (Compile)

يستخدم المشروع **Webpack** لتحويل أكواد TypeScript و React إلى حزم جاهزة للتشغيل:

- أمر البناء: `npm run build`.

### الاختبار (Testing)

قبل النشر، يجب التأكد من عمل "جسر بايثون" عبر تشغيل التطبيق في وضع التطوير:

- أمر التطوير: `npm run dev`.

### النشر (Deployment)

يتم إنتاج نسخة قابلة للتثبيت (Executable) لنظام ويندوز باستخدام **electron-builder**:

- أمر الإنتاج: `npm run dist`.

---

## 2.3 دليل المساهمة (Contributing Guide)

1.  **فتح Issue:** قبل البدء بأي تغيير كبير، يرجى فتح "تذكرة" لمناقشة التعديل.
2.  **Pull Requests:** يجب أن تكون الفروع (Branches) مسماة بوضوح (مثلاً `feature/fix-tabs`).
3.  **أساليب كتابة الكود:**
    - استخدام TypeScript حصراً.
    - الالتزام بـ CSS Modules للتنسيق.
    - كتابة تعليقات واضحة باللغة العربية أو الإنجليزية للدوال المعقدة.

---

## 2.4 توثيق الكود (Code Documentation)

### التعليقات الداخلية (Inline Comments)

نستخدم التعليقات لشرح منطق IPC المعقد في `main.ts` وخوارزميات المعالجة في `python_engine.py`.

### توثيق الواجهات العامة (Public API Docs)

يتم استخدام واجهة `electronAPI` المعرفة في ملف `preload.ts` كجسر أساسي لنقل البيانات بين الواجهة والنظام. تشمل الدوال الرئيسية:

- `sendMessage(prompt, model)`: إرسال نص للنموذج.
- `selectDirectory()`: اختيار مجلد من قبل المستخدم.
- `saveSettings(config)`: حفظ الإعدادات لملف JSON.
